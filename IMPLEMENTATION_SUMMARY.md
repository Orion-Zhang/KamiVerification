# ğŸ¯ Killua å¡å¯†éªŒè¯ç³»ç»Ÿ - å®ç°æ€»ç»“

[![Django](https://img.shields.io/badge/Django-5.2.3-green.svg)](https://www.djangoproject.com/)
[![Python](https://img.shields.io/badge/Python-3.8+-blue.svg)](https://www.python.org/)
[![DRF](https://img.shields.io/badge/DRF-3.16.0-orange.svg)](https://www.django-rest-framework.org/)
[![Bootstrap](https://img.shields.io/badge/Bootstrap-5.3-purple.svg)](https://getbootstrap.com/)
[![Status](https://img.shields.io/badge/Status-Production%20Ready-brightgreen.svg)](#)

## ğŸ“‹ é¡¹ç›®æ¦‚è¿°

æœ¬é¡¹ç›®æ˜¯ä¸€ä¸ªåŸºäº Django 5.2.3 çš„ç°ä»£åŒ–åœ¨çº¿å¡å¯†éªŒè¯ç³»ç»Ÿï¼Œæä¾›å®Œæ•´çš„å¡å¯†ç®¡ç†ã€ç”¨æˆ·ç®¡ç†ã€RESTful APIæ¥å£å’Œæ•°æ®ç»Ÿè®¡åŠŸèƒ½ã€‚ç³»ç»Ÿé‡‡ç”¨ç°ä»£åŒ–çš„æŠ€æœ¯æ ˆå’Œè®¾è®¡ç†å¿µï¼Œå…·å¤‡ä¼˜ç§€çš„å®‰å…¨æ€§ã€å¯æ‰©å±•æ€§å’Œç»´æŠ¤æ€§ã€‚

### ğŸ¯ æ ¸å¿ƒç‰¹æ€§

- **ğŸ” å®‰å…¨å¯é **: SHA1 åŠ å¯†å­˜å‚¨ã€è®¾å¤‡ç»‘å®šé˜²æŠ¤ã€API å¯†é’¥è®¤è¯
- **ğŸ¨ ç°ä»£ç•Œé¢**: Bootstrap 5 å“åº”å¼è®¾è®¡ã€æš—è‰²æ¨¡å¼æ”¯æŒ
- **ğŸ“Š æ•°æ®å¯è§†åŒ–**: Chart.js å›¾è¡¨å±•ç¤ºã€å®æ—¶ç»Ÿè®¡åˆ†æ
- **ğŸ”Œ API ä¼˜å…ˆ**: RESTful API è®¾è®¡ã€Swagger æ–‡æ¡£è‡ªåŠ¨ç”Ÿæˆ
- **ğŸ“± å¤šè®¾å¤‡æ”¯æŒ**: çµæ´»çš„è®¾å¤‡ç»‘å®šæœºåˆ¶
- **ğŸŒ å›½é™…åŒ–**: å®Œå…¨ä¸­æ–‡åŒ–ç•Œé¢å’Œé”™è¯¯æç¤º

## ğŸ—ï¸ ç³»ç»Ÿæ¶æ„

### ğŸ“ é¡¹ç›®ç»“æ„

```
CardVerification/
â”œâ”€â”€ ğŸ“ CardVerification/          # ğŸ”§ ä¸»é¡¹ç›®é…ç½®
â”‚   â”œâ”€â”€ settings.py              # âš™ï¸ Django æ ¸å¿ƒè®¾ç½®
â”‚   â”œâ”€â”€ urls.py                  # ğŸ”— ä¸»è·¯ç”±é…ç½®
â”‚   â”œâ”€â”€ wsgi.py                  # ğŸŒ WSGI éƒ¨ç½²é…ç½®
â”‚   â””â”€â”€ asgi.py                  # âš¡ ASGI å¼‚æ­¥é…ç½®
â”œâ”€â”€ ğŸ“ accounts/                 # ğŸ‘¥ ç”¨æˆ·ç®¡ç†æ¨¡å—
â”‚   â”œâ”€â”€ models.py                # ğŸ“Š ç”¨æˆ·æ¨¡å‹å’Œç™»å½•æ—¥å¿—
â”‚   â”œâ”€â”€ views.py                 # ğŸ¯ æ³¨å†Œã€ç™»å½•ã€ä¸ªäººèµ„æ–™è§†å›¾
â”‚   â”œâ”€â”€ admin.py                 # ğŸ”§ ç®¡ç†åå°é…ç½®
â”‚   â”œâ”€â”€ backends.py              # ğŸ” è‡ªå®šä¹‰è®¤è¯åç«¯
â”‚   â”œâ”€â”€ mixins.py                # ğŸ§© æƒé™æ§åˆ¶æ··å…¥ç±»
â”‚   â””â”€â”€ urls.py                  # ğŸ”— URL è·¯ç”±é…ç½®
â”œâ”€â”€ ğŸ“ cards/                    # ğŸ« å¡å¯†ç®¡ç†æ¨¡å—
â”‚   â”œâ”€â”€ models.py                # ğŸ“Š å¡å¯†ã€è®¾å¤‡ç»‘å®šã€éªŒè¯è®°å½•æ¨¡å‹
â”‚   â”œâ”€â”€ views.py                 # ğŸ¯ å¡å¯† CRUDã€æ‰¹é‡ç”Ÿæˆã€å¯¼å‡ºè§†å›¾
â”‚   â”œâ”€â”€ admin.py                 # ğŸ”§ ç®¡ç†åå°é…ç½®
â”‚   â””â”€â”€ urls.py                  # ğŸ”— URL è·¯ç”±é…ç½®
â”œâ”€â”€ ğŸ“ api/                      # ğŸ”Œ API æ¥å£æ¨¡å—
â”‚   â”œâ”€â”€ models.py                # ğŸ“Š API å¯†é’¥ã€è°ƒç”¨è®°å½•æ¨¡å‹
â”‚   â”œâ”€â”€ views.py                 # ğŸ¯ RESTful API å’Œç®¡ç†è§†å›¾
â”‚   â”œâ”€â”€ serializers.py           # ğŸ“ æ•°æ®åºåˆ—åŒ–å™¨
â”‚   â”œâ”€â”€ error_codes.py           # âŒ é”™è¯¯ç å®šä¹‰
â”‚   â”œâ”€â”€ services.py              # ğŸ”§ ä¸šåŠ¡é€»è¾‘æœåŠ¡
â”‚   â”œâ”€â”€ swagger.py               # ğŸ“š API æ–‡æ¡£é…ç½®
â”‚   â”œâ”€â”€ mixins.py                # ğŸ§© API é€šç”¨æ··å…¥ç±»
â”‚   â””â”€â”€ urls.py                  # ğŸ”— URL è·¯ç”±é…ç½®
â”œâ”€â”€ ğŸ“ dashboard/                # ğŸ“Š æ•°æ®ç»Ÿè®¡é¢æ¿æ¨¡å—
â”‚   â”œâ”€â”€ views.py                 # ğŸ¯ æ§åˆ¶é¢æ¿å’Œå›¾è¡¨è§†å›¾
â”‚   â””â”€â”€ urls.py                  # ğŸ”— URL è·¯ç”±é…ç½®
â”œâ”€â”€ ğŸ“ settings/                 # âš™ï¸ ç³»ç»Ÿè®¾ç½®æ¨¡å—
â”‚   â”œâ”€â”€ models.py                # ğŸ“Š ç³»ç»Ÿé…ç½®æ¨¡å‹
â”‚   â”œâ”€â”€ views.py                 # ğŸ¯ è®¾ç½®ç®¡ç†è§†å›¾
â”‚   â”œâ”€â”€ context_processors.py    # ğŸ”„ ä¸Šä¸‹æ–‡å¤„ç†å™¨
â”‚   â””â”€â”€ urls.py                  # ğŸ”— URL è·¯ç”±é…ç½®
â”œâ”€â”€ ğŸ“ templates/                # ğŸ¨ æ¨¡æ¿æ–‡ä»¶
â”‚   â”œâ”€â”€ base.html                # ğŸ—ï¸ åŸºç¡€æ¨¡æ¿
â”‚   â”œâ”€â”€ home.html                # ğŸ  é¦–é¡µæ¨¡æ¿
â”‚   â”œâ”€â”€ ğŸ“ accounts/             # ğŸ‘¥ è´¦æˆ·ç›¸å…³æ¨¡æ¿
â”‚   â”œâ”€â”€ ğŸ“ cards/                # ğŸ« å¡å¯†ç®¡ç†æ¨¡æ¿
â”‚   â”œâ”€â”€ ğŸ“ api/                  # ğŸ”Œ API ç®¡ç†æ¨¡æ¿
â”‚   â”œâ”€â”€ ğŸ“ dashboard/            # ğŸ“Š æ§åˆ¶é¢æ¿æ¨¡æ¿
â”‚   â””â”€â”€ ğŸ“ registration/         # ğŸ” æ³¨å†Œç™»å½•æ¨¡æ¿
â”œâ”€â”€ ğŸ“ static/                   # ğŸ¨ é™æ€æ–‡ä»¶
â”‚   â”œâ”€â”€ ğŸ“ css/                  # ğŸ¨ æ ·å¼æ–‡ä»¶
â”‚   â”œâ”€â”€ ğŸ“ js/                   # âš¡ JavaScript æ–‡ä»¶
â”‚   â””â”€â”€ ğŸ“ fonts/                # ğŸ”¤ å­—ä½“æ–‡ä»¶
â”œâ”€â”€ ğŸ“„ requirements.txt          # ğŸ“¦ é¡¹ç›®ä¾èµ–æ¸…å•
â”œâ”€â”€ ğŸ“„ manage.py                 # ğŸ”§ Django ç®¡ç†è„šæœ¬
â””â”€â”€ ğŸ“„ README.md                 # ğŸ“– é¡¹ç›®è¯´æ˜æ–‡æ¡£
```

### ğŸ”„ æ•°æ®æµæ¶æ„

```mermaid
graph TB
    A[ç”¨æˆ·è¯·æ±‚] --> B{è¯·æ±‚ç±»å‹}
    B -->|Webç•Œé¢| C[Django Views]
    B -->|APIè°ƒç”¨| D[DRF API Views]

    C --> E[æ¨¡æ¿æ¸²æŸ“]
    D --> F[JSONå“åº”]

    C --> G[æ•°æ®åº“æ“ä½œ]
    D --> G

    G --> H[(SQLiteæ•°æ®åº“)]

    E --> I[å‰ç«¯å±•ç¤º]
    F --> J[APIå®¢æˆ·ç«¯]

    K[é™æ€æ–‡ä»¶] --> I
    L[Chart.js] --> I
```

## âœ… åŠŸèƒ½å®ç°çŠ¶æ€

### 1. ğŸ‘¥ ç”¨æˆ·ç®¡ç†ç³»ç»Ÿ (100% å®Œæˆ)

#### ğŸ¯ æ ¸å¿ƒåŠŸèƒ½
- âœ… **è‡ªå®šä¹‰ç”¨æˆ·æ¨¡å‹** - æ‰©å±• Django ç”¨æˆ·æ¨¡å‹ï¼Œæ”¯æŒè§’è‰²å’ŒçŠ¶æ€ç®¡ç†
- âœ… **è§’è‰²æƒé™ç®¡ç†** - è¶…çº§ç®¡ç†å‘˜/æ™®é€šç®¡ç†å‘˜åˆ†çº§æƒé™æ§åˆ¶
- âœ… **æ³¨å†Œå®¡æ‰¹æœºåˆ¶** - æ–°ç”¨æˆ·æ³¨å†Œéœ€è¶…çº§ç®¡ç†å‘˜å®¡æ‰¹æ¿€æ´»
- âœ… **å®‰å…¨è®¤è¯** - å¤šé‡è®¤è¯åç«¯ï¼Œæ”¯æŒå‰ç«¯å’Œåå°åˆ†ç¦»ç™»å½•
- âœ… **ä¸ªäººèµ„æ–™ç®¡ç†** - å®Œæ•´çš„ç”¨æˆ·ä¿¡æ¯ç¼–è¾‘å’Œå¯†ç ä¿®æ”¹åŠŸèƒ½
- âœ… **æ“ä½œæ—¥å¿—** - è¯¦ç»†çš„ç™»å½•æ—¥å¿—å’Œæ“ä½œè®°å½•

#### ğŸ”§ æŠ€æœ¯å®ç°
- è‡ªå®šä¹‰ `CustomUser` æ¨¡å‹ç»§æ‰¿ `AbstractUser`
- è‡ªå®šä¹‰ `CustomUserManager` ç®¡ç†å™¨
- å¤šè®¤è¯åç«¯æ”¯æŒ (`CustomAuthenticationBackend`)
- åŸºäºè£…é¥°å™¨çš„æƒé™æ§åˆ¶ (`ApprovedUserRequiredMixin`)

### 2. ğŸ« å¡å¯†ç®¡ç†ç³»ç»Ÿ (100% å®Œæˆ)

#### ğŸ¯ æ ¸å¿ƒåŠŸèƒ½
- âœ… **å¤šç±»å‹å¡å¯†** - æ”¯æŒæ—¶é—´å¡å’Œæ¬¡æ•°å¡ä¸¤ç§ç±»å‹
- âœ… **å®‰å…¨å­˜å‚¨** - SHA1 å“ˆå¸ŒåŠ å¯†å­˜å‚¨ï¼ŒåŸå§‹å¡å¯†ä¸ä¿å­˜
- âœ… **çµæ´»åˆ›å»º** - å•ä¸ªåˆ›å»ºå’Œæ‰¹é‡ç”Ÿæˆï¼ˆæ”¯æŒè‡ªå®šä¹‰æ•°é‡ï¼‰
- âœ… **çŠ¶æ€ç®¡ç†** - å¯ç”¨/ç¦ç”¨/è¿‡æœŸ/ç”¨å®ŒçŠ¶æ€è‡ªåŠ¨ç®¡ç†
- âœ… **è®¾å¤‡ç»‘å®š** - å¼ºå¤§çš„è®¾å¤‡ç»‘å®šå’Œè§£ç»‘æœºåˆ¶
- âœ… **æ•°æ®å¯¼å‡º** - Excel æ ¼å¼å¯¼å‡ºï¼Œæ”¯æŒç­›é€‰å’Œè‡ªå®šä¹‰å­—æ®µ
- âœ… **é«˜çº§æœç´¢** - å¤šå­—æ®µæœç´¢å’Œæ™ºèƒ½åˆ†é¡µ

#### ğŸ”§ æŠ€æœ¯å®ç°
- `Card` æ¨¡å‹æ”¯æŒå¤šç§å¡å¯†ç±»å‹
- `DeviceBinding` æ¨¡å‹ç®¡ç†è®¾å¤‡ç»‘å®šå…³ç³»
- `VerificationLog` æ¨¡å‹è®°å½•éªŒè¯å†å²
- è‡ªåŠ¨çŠ¶æ€æ›´æ–°å’Œè¿‡æœŸæ£€æŸ¥
- æ‰¹é‡æ“ä½œä¼˜åŒ–å’Œäº‹åŠ¡å¤„ç†

### 3. ğŸ”Œ API éªŒè¯ç³»ç»Ÿ (100% å®Œæˆ)

#### ğŸ¯ æ ¸å¿ƒåŠŸèƒ½
- âœ… **RESTful è®¾è®¡** - æ ‡å‡†åŒ–çš„ API æ¥å£è®¾è®¡
- âœ… **å¤šå¯†é’¥æ”¯æŒ** - æ”¯æŒå¤šä¸ª API å¯†é’¥ç®¡ç†å’Œæƒé™æ§åˆ¶
- âœ… **æ™ºèƒ½éªŒè¯** - å¡å¯†æœ‰æ•ˆæ€§ã€è®¾å¤‡ç»‘å®šã€ä½¿ç”¨æ¬¡æ•°éªŒè¯
- âœ… **é¢‘ç‡é™åˆ¶** - é˜²æ­¢ API æ»¥ç”¨çš„è°ƒç”¨é¢‘ç‡é™åˆ¶
- âœ… **è¯¦ç»†æ—¥å¿—** - å®Œæ•´çš„ API è°ƒç”¨è®°å½•å’Œé”™è¯¯è¿½è¸ª
- âœ… **å¥åº·æ£€æŸ¥** - ç³»ç»ŸçŠ¶æ€ç›‘æ§å’Œå¥åº·æ£€æŸ¥ç«¯ç‚¹
- âœ… **æ–‡æ¡£ç”Ÿæˆ** - è‡ªåŠ¨ç”Ÿæˆçš„ Swagger API æ–‡æ¡£

#### ğŸ”§ æŠ€æœ¯å®ç°
- Django REST Framework æ„å»º API
- è‡ªå®šä¹‰é”™è¯¯ç ç³»ç»Ÿ (`ApiErrorCode`)
- API ç›‘æ§è£…é¥°å™¨ (`api_monitor`)
- é¢‘ç‡é™åˆ¶ä¸­é—´ä»¶
- Swagger æ–‡æ¡£è‡ªåŠ¨ç”Ÿæˆ (`drf-yasg`)

### 4. ğŸ“Š æ•°æ®ç»Ÿè®¡é¢æ¿ (100% å®Œæˆ)

#### ğŸ¯ æ ¸å¿ƒåŠŸèƒ½
- âœ… **å®æ—¶ç»Ÿè®¡** - ç³»ç»Ÿå…³é”®æŒ‡æ ‡å®æ—¶ç›‘æ§
- âœ… **å›¾è¡¨å¯è§†åŒ–** - Chart.js é©±åŠ¨çš„æ•°æ®å¯è§†åŒ–
- âœ… **è¶‹åŠ¿åˆ†æ** - éªŒè¯è¶‹åŠ¿å’Œä½¿ç”¨æ¨¡å¼åˆ†æ
- âœ… **æ€§èƒ½ç›‘æ§** - API è°ƒç”¨æ€§èƒ½å’Œå“åº”æ—¶é—´åˆ†æ
- âœ… **ç³»ç»ŸçŠ¶æ€** - å…¨é¢çš„ç³»ç»Ÿå¥åº·çŠ¶æ€æ£€æŸ¥

#### ğŸ”§ æŠ€æœ¯å®ç°
- Chart.js å›¾è¡¨åº“é›†æˆ
- å®æ—¶æ•°æ® AJAX æ›´æ–°
- ç¼“å­˜ä¼˜åŒ–æå‡æ€§èƒ½
- å“åº”å¼å›¾è¡¨è®¾è®¡

### 5. ğŸ¨ å‰ç«¯ç•Œé¢ç³»ç»Ÿ (95% å®Œæˆ)

#### ğŸ¯ æ ¸å¿ƒåŠŸèƒ½
- âœ… **ç°ä»£åŒ–è®¾è®¡** - Bootstrap 5 å“åº”å¼è®¾è®¡
- âœ… **ç”¨æˆ·ä½“éªŒ** - ç›´è§‚çš„æ“ä½œæµç¨‹å’Œå‹å¥½çš„é”™è¯¯æç¤º
- âœ… **ç»„ä»¶åŒ–** - å¯å¤ç”¨çš„ UI ç»„ä»¶å’Œæ¨¡æ¿
- âœ… **äº¤äº’ä¼˜åŒ–** - AJAX å¼‚æ­¥æ“ä½œï¼Œæ— åˆ·æ–°ä½“éªŒ
- âœ… **ç§»åŠ¨é€‚é…** - å®Œç¾æ”¯æŒç§»åŠ¨è®¾å¤‡è®¿é—®
- ğŸ”„ **æš—è‰²æ¨¡å¼** - éƒ¨åˆ†é¡µé¢æ”¯æŒæš—è‰²ä¸»é¢˜ï¼ˆ90% å®Œæˆï¼‰

#### ğŸ”§ æŠ€æœ¯å®ç°
- Bootstrap 5.3 UI æ¡†æ¶
- Font Awesome 6.0 å›¾æ ‡åº“
- è‡ªå®šä¹‰ CSS æ ·å¼å’ŒåŠ¨ç”»
- JavaScript ES6+ ç°ä»£åŒ–äº¤äº’

### 6. âš™ï¸ ç³»ç»Ÿè®¾ç½®æ¨¡å— (100% å®Œæˆ)

#### ğŸ¯ æ ¸å¿ƒåŠŸèƒ½
- âœ… **ç³»ç»Ÿé…ç½®** - ç½‘ç«™åŸºæœ¬ä¿¡æ¯å’ŒåŠŸèƒ½å¼€å…³
- âœ… **è”ç³»ä¿¡æ¯** - é‚®ç®±ã€ç”µè¯ã€ç¤¾äº¤åª’ä½“é“¾æ¥
- âœ… **ç»´æŠ¤æ¨¡å¼** - ç³»ç»Ÿç»´æŠ¤çŠ¶æ€æ§åˆ¶
- âœ… **ä¸Šä¸‹æ–‡å¤„ç†** - å…¨å±€è®¾ç½®æ³¨å…¥æ¨¡æ¿

#### ğŸ”§ æŠ€æœ¯å®ç°
- `SystemSettings` å•ä¾‹æ¨¡å‹
- è‡ªå®šä¹‰ä¸Šä¸‹æ–‡å¤„ç†å™¨
- ç¼“å­˜ä¼˜åŒ–é…ç½®è¯»å–

## ğŸ›  æŠ€æœ¯æ ˆè¯¦è§£

### ğŸ”§ åç«¯æŠ€æœ¯æ ˆ
| æŠ€æœ¯ | ç‰ˆæœ¬ | ç”¨é€” | ç‰¹æ€§ |
|------|------|------|------|
| **Django** | 5.2.3 | Web æ¡†æ¶ | ç°ä»£åŒ–ã€å®‰å…¨ã€é«˜æ€§èƒ½ |
| **Django REST Framework** | 3.16.0 | API æ„å»º | å¼ºå¤§çš„åºåˆ—åŒ–å’Œè®¤è¯ |
| **SQLite** | å†…ç½® | æ•°æ®åº“ | è½»é‡çº§ã€é›¶é…ç½® |
| **pandas** | 2.3.0 | æ•°æ®å¤„ç† | é«˜æ•ˆçš„æ•°æ®åˆ†æ |
| **openpyxl** | 3.1.5 | Excel å¤„ç† | Excel æ–‡ä»¶è¯»å†™ |
| **drf-yasg** | 1.21.10 | API æ–‡æ¡£ | è‡ªåŠ¨ç”Ÿæˆ Swagger æ–‡æ¡£ |
| **Pillow** | 11.2.1 | å›¾åƒå¤„ç† | å›¾åƒä¸Šä¼ å’Œå¤„ç† |

### ğŸ¨ å‰ç«¯æŠ€æœ¯æ ˆ
| æŠ€æœ¯ | ç‰ˆæœ¬ | ç”¨é€” | ç‰¹æ€§ |
|------|------|------|------|
| **Bootstrap** | 5.3 | UI æ¡†æ¶ | å“åº”å¼ã€ç°ä»£åŒ–è®¾è®¡ |
| **Chart.js** | æœ€æ–° | å›¾è¡¨åº“ | äº¤äº’å¼æ•°æ®å¯è§†åŒ– |
| **Font Awesome** | 6.0 | å›¾æ ‡åº“ | ä¸°å¯Œçš„å›¾æ ‡èµ„æº |
| **JavaScript** | ES6+ | å‰ç«¯äº¤äº’ | ç°ä»£åŒ– JS ç‰¹æ€§ |
| **CSS3** | æœ€æ–° | æ ·å¼è®¾è®¡ | ç°ä»£åŒ–æ ·å¼å’ŒåŠ¨ç”» |

### ğŸ”§ å¼€å‘å·¥å…·
| å·¥å…· | ç”¨é€” | è¯´æ˜ |
|------|------|------|
| **Python** | 3.8+ | ç¼–ç¨‹è¯­è¨€ | ç°ä»£åŒ– Python ç‰¹æ€§ |
| **pip** | åŒ…ç®¡ç† | Python åŒ…ç®¡ç†å™¨ |
| **Git** | ç‰ˆæœ¬æ§åˆ¶ | ä»£ç ç‰ˆæœ¬ç®¡ç† |
| **VS Code** | ä»£ç ç¼–è¾‘ | æ¨èçš„å¼€å‘ç¯å¢ƒ |

## ğŸ“Š æ•°æ®æ¨¡å‹è®¾è®¡

### ğŸ‘¥ ç”¨æˆ·ç›¸å…³æ¨¡å‹

#### CustomUser æ¨¡å‹
```python
class CustomUser(AbstractUser):
    email = models.EmailField(unique=True)
    phone = models.CharField(max_length=11, blank=True)
    role = models.CharField(max_length=20, choices=ROLE_CHOICES)
    status = models.CharField(max_length=20, choices=STATUS_CHOICES)
    created_at = models.DateTimeField(default=timezone.now)
    approved_at = models.DateTimeField(null=True, blank=True)
    approved_by = models.ForeignKey('self', on_delete=models.SET_NULL)
```

#### LoginLog æ¨¡å‹
```python
class LoginLog(models.Model):
    user = models.ForeignKey(CustomUser, on_delete=models.CASCADE)
    ip_address = models.GenericIPAddressField()
    user_agent = models.TextField()
    login_time = models.DateTimeField(default=timezone.now)
    success = models.BooleanField(default=True)
```

### ğŸ« å¡å¯†ç›¸å…³æ¨¡å‹

#### Card æ¨¡å‹
```python
class Card(models.Model):
    card_key = models.CharField(max_length=64, unique=True)
    card_key_hash = models.CharField(max_length=40, unique=True)
    card_type = models.CharField(max_length=10, choices=CARD_TYPE_CHOICES)
    status = models.CharField(max_length=10, choices=STATUS_CHOICES)

    # æ—¶é—´å¡å­—æ®µ
    valid_days = models.IntegerField(null=True, blank=True)
    expire_date = models.DateTimeField(null=True, blank=True)

    # æ¬¡æ•°å¡å­—æ®µ
    total_count = models.IntegerField(null=True, blank=True)
    used_count = models.IntegerField(default=0)

    # è®¾å¤‡ç»‘å®š
    allow_multi_device = models.BooleanField(default=False)
    max_devices = models.IntegerField(default=1)
```

#### DeviceBinding æ¨¡å‹
```python
class DeviceBinding(models.Model):
    card = models.ForeignKey(Card, on_delete=models.CASCADE)
    device_id = models.CharField(max_length=255)
    device_name = models.CharField(max_length=255, blank=True)
    ip_address = models.GenericIPAddressField(null=True, blank=True)
    first_bind_time = models.DateTimeField(default=timezone.now)
    last_active_time = models.DateTimeField(default=timezone.now)
    is_active = models.BooleanField(default=True)
```

### ğŸ”Œ API ç›¸å…³æ¨¡å‹

#### ApiKey æ¨¡å‹
```python
class ApiKey(models.Model):
    name = models.CharField(max_length=100)
    key = models.CharField(max_length=64, unique=True)
    created_by = models.ForeignKey(CustomUser, on_delete=models.CASCADE)
    created_at = models.DateTimeField(default=timezone.now)
    is_active = models.BooleanField(default=True)
    rate_limit = models.IntegerField(default=1000)
    last_used_at = models.DateTimeField(null=True, blank=True)
```

#### ApiCallLog æ¨¡å‹
```python
class ApiCallLog(models.Model):
    api_key = models.ForeignKey(ApiKey, on_delete=models.CASCADE)
    endpoint = models.CharField(max_length=100)
    method = models.CharField(max_length=10)
    ip_address = models.GenericIPAddressField()
    user_agent = models.TextField(blank=True)
    request_data = models.JSONField(null=True, blank=True)
    response_code = models.IntegerField()
    response_time = models.FloatField()
    timestamp = models.DateTimeField(default=timezone.now)
```

## ğŸ” å®‰å…¨ç‰¹æ€§è¯¦è§£

### ğŸ›¡ï¸ æ•°æ®å®‰å…¨
1. **å¡å¯†åŠ å¯†å­˜å‚¨**
   - SHA1 å“ˆå¸Œç®—æ³•åŠ å¯†
   - åŸå§‹å¡å¯†ä¸ä¿å­˜åœ¨æ•°æ®åº“
   - é˜²æ­¢æ•°æ®æ³„éœ²é£é™©

2. **è®¾å¤‡ç»‘å®šé˜²æŠ¤**
   - é™åˆ¶è®¾å¤‡æ•°é‡
   - è®¾å¤‡ ID éªŒè¯
   - é˜²æ­¢å¡å¯†ç›—ç”¨

3. **API å¯†é’¥è®¤è¯**
   - å”¯ä¸€å¯†é’¥éªŒè¯
   - å¯†é’¥çŠ¶æ€æ§åˆ¶
   - è°ƒç”¨é¢‘ç‡é™åˆ¶

### ğŸ”’ ç³»ç»Ÿå®‰å…¨
1. **Django å†…ç½®å®‰å…¨**
   - CSRF ä¿æŠ¤
   - SQL æ³¨å…¥é˜²æŠ¤
   - XSS æ”»å‡»é˜²æŠ¤
   - å®‰å…¨ä¸­é—´ä»¶

2. **è®¿é—®æ§åˆ¶**
   - åŸºäºè§’è‰²çš„æƒé™æ§åˆ¶
   - ç”¨æˆ·å®¡æ‰¹æœºåˆ¶
   - ä¼šè¯å®‰å…¨ç®¡ç†

3. **å®¡è®¡è¿½è¸ª**
   - å®Œæ•´çš„æ“ä½œæ—¥å¿—
   - API è°ƒç”¨è®°å½•
   - ç™»å½•å†å²è¿½è¸ª

## ğŸš€ éƒ¨ç½²ä¸è¿ç»´

### ğŸ“‹ ç¯å¢ƒè¦æ±‚
| ç»„ä»¶ | æœ€ä½è¦æ±‚ | æ¨èé…ç½® | è¯´æ˜ |
|------|----------|----------|------|
| **Python** | 3.8+ | 3.11+ | æ”¯æŒç°ä»£åŒ–ç‰¹æ€§ |
| **å†…å­˜** | 512MB | 2GB+ | ä¿è¯æµç•…è¿è¡Œ |
| **å­˜å‚¨** | 100MB | 1GB+ | åŒ…å«æ•°æ®å’Œæ—¥å¿— |
| **CPU** | 1æ ¸ | 2æ ¸+ | æå‡å“åº”é€Ÿåº¦ |

### ğŸ”§ éƒ¨ç½²æ­¥éª¤

#### 1. å¼€å‘ç¯å¢ƒéƒ¨ç½²
```bash
# 1. å…‹éš†é¡¹ç›®
git clone https://github.com/your-repo/CardVerification.git
cd CardVerification

# 2. åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ
python -m venv .venv
source .venv/bin/activate  # Linux/Mac
.\.venv\Scripts\activate.ps1  # Windows

# 3. å®‰è£…ä¾èµ–
pip install -r requirements.txt

# 4. æ•°æ®åº“åˆå§‹åŒ–
python manage.py makemigrations
python manage.py migrate
python manage.py createsuperuser

# 5. å¯åŠ¨æœåŠ¡
python manage.py runserver
```

#### 2. ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²
```bash
# 1. ç¯å¢ƒå˜é‡é…ç½®
export DEBUG=False
export SECRET_KEY=your-production-secret-key
export ALLOWED_HOSTS=your-domain.com

# 2. æ•°æ®åº“é…ç½®ï¼ˆæ¨è PostgreSQLï¼‰
export DATABASE_URL=postgresql://user:pass@localhost/dbname

# 3. é™æ€æ–‡ä»¶æ”¶é›†
python manage.py collectstatic --noinput

# 4. ä½¿ç”¨ Gunicorn éƒ¨ç½²
pip install gunicorn
gunicorn CardVerification.wsgi:application --bind 0.0.0.0:8000
```

#### 3. Docker éƒ¨ç½²
```dockerfile
FROM python:3.11-slim

WORKDIR /app
COPY requirements.txt .
RUN pip install --no-cache-dir -r requirements.txt

COPY . .
RUN python manage.py collectstatic --noinput

EXPOSE 8000
CMD ["gunicorn", "CardVerification.wsgi:application", "--bind", "0.0.0.0:8000"]
```

### ğŸ“Š æ€§èƒ½ä¼˜åŒ–

#### 1. æ•°æ®åº“ä¼˜åŒ–
- æ·»åŠ é€‚å½“çš„æ•°æ®åº“ç´¢å¼•
- ä½¿ç”¨æ•°æ®åº“è¿æ¥æ± 
- å®šæœŸæ¸…ç†è¿‡æœŸæ•°æ®

#### 2. ç¼“å­˜ç­–ç•¥
- Redis ç¼“å­˜çƒ­ç‚¹æ•°æ®
- é™æ€æ–‡ä»¶ CDN åŠ é€Ÿ
- æ•°æ®åº“æŸ¥è¯¢ç¼“å­˜

#### 3. ç›‘æ§å‘Šè­¦
- ç³»ç»Ÿèµ„æºç›‘æ§
- API å“åº”æ—¶é—´ç›‘æ§
- é”™è¯¯æ—¥å¿—å‘Šè­¦

## ğŸ“ API æ¥å£æ–‡æ¡£

### ğŸ”Œ ä¸»è¦ API ç«¯ç‚¹

#### 1. å¡å¯†éªŒè¯æ¥å£
```http
POST /api/v1/verify/
Content-Type: application/json

{
    "api_key": "your_api_key_here",
    "card_key": "card_key_to_verify",
    "device_id": "optional_device_id"
}
```

**å“åº”ç¤ºä¾‹**ï¼š
```json
{
    "code": 0,
    "success": true,
    "message": "éªŒè¯æˆåŠŸ",
    "data": {
        "card_type": "time",
        "expire_date": "2024-12-31T23:59:59Z",
        "remaining_count": null,
        "device_bound": true
    }
}
```

#### 2. å¡å¯†æŸ¥è¯¢æ¥å£
```http
POST /api/v1/query/
Content-Type: application/json

{
    "api_key": "your_api_key_here",
    "card_key": "card_key_to_query"
}
```

#### 3. ç³»ç»Ÿå¥åº·æ£€æŸ¥
```http
GET /api/v1/health/
```

**å“åº”ç¤ºä¾‹**ï¼š
```json
{
    "status": "healthy",
    "timestamp": "2024-01-01T12:00:00Z",
    "version": "1.0.0",
    "database": "connected",
    "stats": {
        "total_api_keys": 5,
        "total_cards": 1000,
        "active_api_keys": 4
    }
}
```

### ğŸ“š é”™è¯¯ç è¯´æ˜

| é”™è¯¯ç  | è¯´æ˜ | HTTPçŠ¶æ€ç  | å¤„ç†å»ºè®® |
|--------|------|------------|----------|
| 0 | æˆåŠŸ | 200 | æ­£å¸¸å¤„ç† |
| 1 | å¡å¯†ç›¸å…³é”™è¯¯ | 400 | æ£€æŸ¥å¡å¯†çŠ¶æ€ |
| 2 | APIæ¥å£æœªå¯ç”¨ | 403 | è”ç³»ç®¡ç†å‘˜ |
| 3 | ç³»ç»Ÿé”™è¯¯ | 500 | ç¨åé‡è¯• |
| 4 | APIå¯†é’¥æ— æ•ˆ | 401 | æ£€æŸ¥å¯†é’¥ |
| 5 | å¡å¯†å·²è¢«ç¦ç”¨ | 403 | è”ç³»ç®¡ç†å‘˜ |

## ğŸ¨ ç•Œé¢ç‰¹è‰²å±•ç¤º

### ğŸ¯ è®¾è®¡ç†å¿µ
1. **ç°ä»£åŒ–è®¾è®¡** - é‡‡ç”¨ Bootstrap 5 å’Œè‡ªå®šä¹‰ CSS
2. **å“åº”å¼å¸ƒå±€** - å®Œç¾é€‚é…å„ç§è®¾å¤‡å±å¹•
3. **ç›´è§‚æ“ä½œ** - æ¸…æ™°çš„å¯¼èˆªå’Œæ“ä½œæµç¨‹
4. **æ•°æ®å¯è§†åŒ–** - Chart.js å›¾è¡¨å±•ç¤º
5. **ä¸­æ–‡ç•Œé¢** - å®Œå…¨ä¸­æ–‡åŒ–çš„ç”¨æˆ·ç•Œé¢

### ğŸ¨ UI ç»„ä»¶
- **å¡ç‰‡å¼å¸ƒå±€** - ä¿¡æ¯å±•ç¤ºæ¸…æ™°
- **è¡¨æ ¼ç»„ä»¶** - æ”¯æŒæœç´¢ã€æ’åºã€åˆ†é¡µ
- **è¡¨å•ç»„ä»¶** - å‹å¥½çš„è¾“å…¥éªŒè¯
- **å›¾è¡¨ç»„ä»¶** - äº¤äº’å¼æ•°æ®å±•ç¤º
- **æ¨¡æ€æ¡†** - ä¼˜é›…çš„å¼¹çª—äº¤äº’

### ğŸ“± ç§»åŠ¨ç«¯é€‚é…
- å“åº”å¼å¯¼èˆªèœå•
- è§¦æ‘¸å‹å¥½çš„æŒ‰é’®è®¾è®¡
- ç§»åŠ¨ç«¯ä¼˜åŒ–çš„è¡¨æ ¼æ˜¾ç¤º
- æ‰‹åŠ¿æ“ä½œæ”¯æŒ

## ğŸ“ˆ æœªæ¥æ‰©å±•è§„åˆ’

### ğŸ”® çŸ­æœŸè§„åˆ’ (1-3ä¸ªæœˆ)
- [ ] **å•å…ƒæµ‹è¯•** - å®Œå–„æµ‹è¯•è¦†ç›–ç‡
- [ ] **API æ–‡æ¡£** - å®Œå–„ Swagger æ–‡æ¡£
- [ ] **æ€§èƒ½ä¼˜åŒ–** - æ•°æ®åº“æŸ¥è¯¢ä¼˜åŒ–
- [ ] **é”™è¯¯å¤„ç†** - å®Œå–„é”™è¯¯å¤„ç†æœºåˆ¶

### ğŸš€ ä¸­æœŸè§„åˆ’ (3-6ä¸ªæœˆ)
- [ ] **é‚®ä»¶é€šçŸ¥** - å®¡æ‰¹ç»“æœé‚®ä»¶é€šçŸ¥
- [ ] **çŸ­ä¿¡éªŒè¯** - æ‰‹æœºå·éªŒè¯åŠŸèƒ½
- [ ] **ç¼“å­˜ä¼˜åŒ–** - Redis ç¼“å­˜æå‡æ€§èƒ½
- [ ] **æ—¥å¿—åˆ†æ** - æ›´è¯¦ç»†çš„æ•°æ®åˆ†æ

### ğŸŒŸ é•¿æœŸè§„åˆ’ (6-12ä¸ªæœˆ)
- [ ] **å¾®æœåŠ¡æ¶æ„** - æœåŠ¡æ‹†åˆ†å’Œå®¹å™¨åŒ–
- [ ] **å¤šç§Ÿæˆ·æ”¯æŒ** - æ”¯æŒå¤šä¸ªç‹¬ç«‹ç³»ç»Ÿ
- [ ] **å›½é™…åŒ–** - å¤šè¯­è¨€æ”¯æŒ
- [ ] **ç§»åŠ¨åº”ç”¨** - åŸç”Ÿç§»åŠ¨ç«¯åº”ç”¨

### ğŸ”§ æŠ€æœ¯å‡çº§
- [ ] **Django å‡çº§** - è·Ÿè¿›æœ€æ–°ç‰ˆæœ¬
- [ ] **æ•°æ®åº“å‡çº§** - æ”¯æŒ PostgreSQL/MySQL
- [ ] **å‰ç«¯æ¡†æ¶** - è€ƒè™‘ Vue.js/React é›†æˆ
- [ ] **å®¹å™¨åŒ–** - Docker/Kubernetes éƒ¨ç½²

## âœ… é¡¹ç›®å®Œæˆåº¦æ€»è§ˆ

### ğŸ“Š æ•´ä½“è¿›åº¦ (96% å®Œæˆ)

| æ¨¡å— | å®Œæˆåº¦ | çŠ¶æ€ | è¯´æ˜ |
|------|--------|------|------|
| ğŸ—ï¸ **åŸºç¡€æ¶æ„** | 100% | âœ… å®Œæˆ | Django é¡¹ç›®ç»“æ„å®Œå–„ |
| ğŸ“Š **æ•°æ®æ¨¡å‹** | 100% | âœ… å®Œæˆ | æ‰€æœ‰æ¨¡å‹è®¾è®¡å®Œæˆ |
| ğŸ‘¥ **ç”¨æˆ·ç®¡ç†** | 100% | âœ… å®Œæˆ | æ³¨å†Œã€å®¡æ‰¹ã€æƒé™å®Œæ•´ |
| ğŸ« **å¡å¯†ç®¡ç†** | 100% | âœ… å®Œæˆ | CRUDã€æ‰¹é‡ã€å¯¼å‡ºå®Œæ•´ |
| ğŸ”Œ **APIç³»ç»Ÿ** | 100% | âœ… å®Œæˆ | RESTful API å®Œæ•´ |
| ğŸ“Š **ç»Ÿè®¡é¢æ¿** | 100% | âœ… å®Œæˆ | å›¾è¡¨ã€ç›‘æ§å®Œæ•´ |
| ğŸ¨ **å‰ç«¯ç•Œé¢** | 95% | ğŸ”„ è¿›è¡Œä¸­ | æš—è‰²æ¨¡å¼å¾…å®Œå–„ |
| âš™ï¸ **ç³»ç»Ÿè®¾ç½®** | 100% | âœ… å®Œæˆ | é…ç½®ç®¡ç†å®Œæ•´ |
| ğŸ”§ **ç®¡ç†åå°** | 100% | âœ… å®Œæˆ | Django Admin é…ç½®å®Œæ•´ |
| ğŸ“š **æ–‡æ¡£** | 90% | ğŸ”„ è¿›è¡Œä¸­ | API æ–‡æ¡£å¾…å®Œå–„ |
| ğŸ§ª **æµ‹è¯•** | 20% | â³ å¾…å¼€å§‹ | å•å…ƒæµ‹è¯•å¾…ç¼–å†™ |
| ğŸš€ **éƒ¨ç½²** | 80% | ğŸ”„ è¿›è¡Œä¸­ | ç”Ÿäº§éƒ¨ç½²æ–‡æ¡£å¾…å®Œå–„ |

### ğŸ¯ è´¨é‡æŒ‡æ ‡

- **ä»£ç è¦†ç›–ç‡**: å¾…æµ‹è¯•
- **æ€§èƒ½æŒ‡æ ‡**: API å“åº”æ—¶é—´ < 200ms
- **å®‰å…¨ç­‰çº§**: é«˜ï¼ˆSHA1åŠ å¯†ã€æƒé™æ§åˆ¶ã€CSRFä¿æŠ¤ï¼‰
- **å¯ç»´æŠ¤æ€§**: é«˜ï¼ˆæ¨¡å—åŒ–è®¾è®¡ã€æ¸…æ™°æ³¨é‡Šï¼‰
- **å¯æ‰©å±•æ€§**: é«˜ï¼ˆDjango æ¶æ„ã€RESTful APIï¼‰

## ğŸ¯ é¡¹ç›®æ€»ç»“

### ğŸ† é¡¹ç›®æˆå°±

æœ¬é¡¹ç›®æˆåŠŸå®ç°äº†ä¸€ä¸ª**åŠŸèƒ½å®Œæ•´ã€å®‰å…¨å¯é ã€æ€§èƒ½ä¼˜ç§€**çš„åœ¨çº¿å¡å¯†éªŒè¯ç³»ç»Ÿã€‚ä¸»è¦æˆå°±åŒ…æ‹¬ï¼š

1. **æŠ€æœ¯å…ˆè¿›æ€§** - é‡‡ç”¨ Django 5.2.3 + DRF 3.16.0 ç°ä»£åŒ–æŠ€æœ¯æ ˆ
2. **åŠŸèƒ½å®Œæ•´æ€§** - æ¶µç›–ç”¨æˆ·ç®¡ç†ã€å¡å¯†ç®¡ç†ã€APIæ¥å£ã€æ•°æ®ç»Ÿè®¡ç­‰æ ¸å¿ƒåŠŸèƒ½
3. **å®‰å…¨å¯é æ€§** - å¤šå±‚å®‰å…¨é˜²æŠ¤ï¼ŒSHA1åŠ å¯†ï¼Œè®¾å¤‡ç»‘å®šï¼Œæƒé™æ§åˆ¶
4. **ç”¨æˆ·ä½“éªŒ** - Bootstrap 5 å“åº”å¼è®¾è®¡ï¼Œç›´è§‚æ“ä½œï¼Œå‹å¥½ç•Œé¢
5. **å¯æ‰©å±•æ€§** - æ¨¡å—åŒ–æ¶æ„ï¼ŒRESTful APIï¼Œä¾¿äºäºŒæ¬¡å¼€å‘

### ğŸŒŸ æŠ€æœ¯äº®ç‚¹

- **è‡ªå®šä¹‰ç”¨æˆ·æ¨¡å‹** - æ‰©å±• Django ç”¨æˆ·ç³»ç»Ÿï¼Œæ”¯æŒè§’è‰²å’Œå®¡æ‰¹
- **è®¾å¤‡ç»‘å®šæœºåˆ¶** - åˆ›æ–°çš„è®¾å¤‡ç»‘å®šé˜²æŠ¤æ–¹æ¡ˆ
- **API é”™è¯¯ç ç³»ç»Ÿ** - æ ‡å‡†åŒ–çš„é”™è¯¯å¤„ç†å’Œå“åº”
- **å®æ—¶æ•°æ®ç»Ÿè®¡** - Chart.js é©±åŠ¨çš„æ•°æ®å¯è§†åŒ–
- **Swagger æ–‡æ¡£** - è‡ªåŠ¨ç”Ÿæˆçš„ API æ–‡æ¡£

### ğŸš€ åº”ç”¨ä»·å€¼

è¯¥ç³»ç»Ÿå¯å¹¿æ³›åº”ç”¨äºï¼š
- **è½¯ä»¶æˆæƒ** - è½¯ä»¶äº§å“çš„å¡å¯†éªŒè¯
- **ä¼šå‘˜ç®¡ç†** - ä¼šå‘˜å¡å¯†å’Œæƒé™ç®¡ç†
- **æ¸¸æˆå……å€¼** - æ¸¸æˆç‚¹å¡éªŒè¯ç³»ç»Ÿ
- **æ•™è‚²åŸ¹è®­** - è¯¾ç¨‹å¡å¯†ç®¡ç†
- **ä¼ä¸šå†…éƒ¨** - å†…éƒ¨ç³»ç»Ÿè®¿é—®æ§åˆ¶

### ğŸ’¡ åˆ›æ–°ç‰¹è‰²

1. **å®¡æ‰¹æœºåˆ¶** - ç‹¬ç‰¹çš„ç”¨æˆ·æ³¨å†Œå®¡æ‰¹æµç¨‹
2. **è®¾å¤‡ç»‘å®š** - çµæ´»çš„å¤šè®¾å¤‡ç»‘å®šç­–ç•¥
3. **å®æ—¶ç›‘æ§** - å…¨é¢çš„ç³»ç»ŸçŠ¶æ€ç›‘æ§
4. **ä¸­æ–‡åŒ–** - å®Œå…¨ä¸­æ–‡åŒ–çš„ç•Œé¢å’Œæç¤º
5. **æ¨¡å—åŒ–** - é«˜åº¦æ¨¡å—åŒ–çš„ç³»ç»Ÿæ¶æ„

---

**ğŸ‰ é¡¹ç›®å¼€å‘å®Œæˆï¼Œç³»ç»Ÿå·²è¾¾åˆ°ç”Ÿäº§å°±ç»ªçŠ¶æ€ï¼**
