# ===== 卡片验证系统 - Docker 环境变量配置模板 =====
# 复制此文件为 .env 并根据实际情况修改配置

# ===== Django 核心配置 =====
# Django密钥 - 生产环境必须修改！
SECRET_KEY=your-super-secret-key-change-this-in-production

# 调试模式 - 生产环境设置为 0
DEBUG=0

# 允许的主机列表 - 用逗号分隔
ALLOWED_HOSTS=localhost,127.0.0.1,your-domain.com

# Django设置模块
DJANGO_SETTINGS_MODULE=CardVerification.settings

# ===== 数据库配置 =====
# PostgreSQL 数据库配置
POSTGRES_DB=cardverification
POSTGRES_USER=cardverification
POSTGRES_PASSWORD=your-strong-database-password

# 数据库连接URL（自动生成，通常不需要修改）
DATABASE_URL=postgresql://${POSTGRES_USER}:${POSTGRES_PASSWORD}@db:5432/${POSTGRES_DB}

# ===== Redis 配置 =====
# Redis 密码
REDIS_PASSWORD=your-redis-password

# Redis 连接URL（自动生成，通常不需要修改）
REDIS_URL=redis://:${REDIS_PASSWORD}@redis:6379/0

# ===== 超级用户配置 =====
# 容器启动时自动创建的超级用户
DJANGO_SUPERUSER_USERNAME=admin
DJANGO_SUPERUSER_EMAIL=admin@example.com
DJANGO_SUPERUSER_PASSWORD=your-admin-password

# ===== 应用特定配置 =====
# 系统名称
SYSTEM_NAME="Killua 卡密系统"

# 系统版本
SYSTEM_VERSION=1.0.0

# 系统描述
SYSTEM_DESCRIPTION="专业的卡密验证管理系统"

# ===== 邮件配置（可选）=====
# SMTP 邮件服务器配置
EMAIL_BACKEND=django.core.mail.backends.smtp.EmailBackend
EMAIL_HOST=smtp.gmail.com
EMAIL_PORT=587
EMAIL_USE_TLS=True
EMAIL_HOST_USER=your-email@gmail.com
EMAIL_HOST_PASSWORD=your-email-password
DEFAULT_FROM_EMAIL=your-email@gmail.com

# ===== 文件存储配置 =====
# 媒体文件根目录
MEDIA_ROOT=/app/media

# 静态文件根目录
STATIC_ROOT=/app/staticfiles

# ===== 日志配置 =====
# 日志级别 (DEBUG, INFO, WARNING, ERROR, CRITICAL)
LOG_LEVEL=INFO

# 日志文件路径
LOG_FILE=/app/logs/django.log

# ===== 安全配置 =====
# HTTPS 相关配置（生产环境启用）
SECURE_SSL_REDIRECT=False
SECURE_HSTS_SECONDS=0
SECURE_HSTS_INCLUDE_SUBDOMAINS=False
SECURE_HSTS_PRELOAD=False
SECURE_CONTENT_TYPE_NOSNIFF=True
SECURE_BROWSER_XSS_FILTER=True
X_FRAME_OPTIONS=DENY

# CSRF 配置
CSRF_COOKIE_SECURE=False
CSRF_COOKIE_HTTPONLY=True

# Session 配置
SESSION_COOKIE_SECURE=False
SESSION_COOKIE_HTTPONLY=True
SESSION_COOKIE_AGE=86400

# ===== API 配置 =====
# API 限流配置
API_THROTTLE_RATE=100/hour

# API 文档配置
API_DOCS_ENABLED=True

# ===== 缓存配置 =====
# 缓存超时时间（秒）
CACHE_TIMEOUT=3600

# ===== 文件上传配置 =====
# 最大文件上传大小（字节）
FILE_UPLOAD_MAX_MEMORY_SIZE=2621440  # 2.5MB

# 允许的文件类型
ALLOWED_FILE_EXTENSIONS=jpg,jpeg,png,gif,pdf,doc,docx,xls,xlsx

# ===== 时区和语言配置 =====
# 时区设置
TIME_ZONE=Asia/Shanghai

# 语言代码
LANGUAGE_CODE=zh-hans

# ===== 监控和健康检查 =====
# 健康检查端点启用
HEALTH_CHECK_ENABLED=True

# 监控数据收集
MONITORING_ENABLED=False

# ===== 备份配置 =====
# 数据库备份配置
BACKUP_ENABLED=False
BACKUP_SCHEDULE=0 2 * * *  # 每天凌晨2点
BACKUP_RETENTION_DAYS=30

# ===== 第三方服务配置 =====
# 如果使用第三方服务，在此添加相关配置
# EXTERNAL_API_KEY=your-external-api-key
# EXTERNAL_API_URL=https://api.example.com

# ===== 开发环境特定配置 =====
# 仅在开发环境使用
DJANGO_DEBUG_TOOLBAR=False
DJANGO_EXTENSIONS=False

# ===== 生产环境优化 =====
# Gunicorn 工作进程数
GUNICORN_WORKERS=3

# Gunicorn 超时时间
GUNICORN_TIMEOUT=120

# 数据库连接池大小
DB_CONN_MAX_AGE=60

# ===== 注意事项 =====
# 1. 生产环境必须修改所有密码和密钥
# 2. 确保 ALLOWED_HOSTS 包含您的域名
# 3. 生产环境建议启用 HTTPS 相关安全配置
# 4. 定期备份数据库和媒体文件
# 5. 监控系统资源使用情况
