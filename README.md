# Killua 在线卡密验证系统

## 一、项目简介

本系统为软件产品提供在线卡密验证服务。用户通过管理员获取卡密，在本地软件中通过调用 RESTful API 实现授权验证。系统同时提供强大的后台管理功能，包括卡密生成、设备绑定、使用记录、数据统计等。

系统采用 Django 框架作为后端，Bootstrap 作为前端 UI 框架，数据库采用 MySQL 或 SQLite，适配开发与部署需求。

## 二、系统角色与权限模型

| 角色          | 权限描述                    |
| ----------- | ----------------------- |
| 超级管理员       | 具备所有权限，可审批新管理员          |
| 普通管理员       | 需经过审批注册，具备卡密和数据管理权限     |
| 卡密使用者（终端用户） | 无需注册，仅在软件中调用 API 完成卡密验证 |

## 三、系统功能模块

### 1. 主页展示功能（公开访问）

- 项目介绍、特点、安全性说明
- API 使用说明文档
- 卡密验证展示（可选）

### 2. 管理员注册与登录

- 管理员可在网页注册，填写用户名、邮箱、手机号、密码等信息
- 所有注册信息默认为未审批状态
- 超级管理员在后台审批后，账号才可启用登录
- 登录成功后可进入后台管理系统

### 3. 卡密管理

- 批量生成卡密（支持时间卡、次数卡）
- 设置有效期、是否启用、是否允许同设备重复验证
- SHA1 加密存储卡密信息
- 卡密设备绑定机制
- 卡密设备解绑（管理员操作）
- 导出卡密为 Excel 表格

### 4. 卡密验证中心

- 支持软件端通过 API 调用进行卡密验证
- 支持绑定设备 ID，重复调用校验
- 提供是否允许同设备重复验证的配置
- 支持无需设备 ID 的验证方式（选项）
- 支持卡密查询与最近验证记录显示

### 5. API 管理功能

- 提供 RESTful API 接口文档
- 支持 GET / POST 请求方式
- 多密钥支持
- 调用记录与调用统计
- API 密钥状态管理（启用/禁用）

### 6. 数据统计与展示

- 卡密使用趋势分析
- 实时验证统计
- 图表可视化展示（使用 Chart.js 或类似前端库）
- API 调用次数记录
- 管理员登录与操作记录

### 7. 搜索与分页

- 所有数据列表支持模糊搜索
- 结果支持分页显示，包括跳转页码、上一页/下一页等功能

### 8. 数据库操作（CRUD）

- 创建：管理员新增卡密、注册申请等
- 读取：显示卡密详情、验证记录等
- 更新：编辑卡密属性、解绑设备等
- 删除：移除无效卡密、清理历史记录等

## 四、系统架构与技术栈

### 前端：

- HTML + CSS
- JavaScript
- Bootstrap

### 后端：

- Python
- Django

### 数据库：

- SQLite 或 MySQL

### 第三方库（部分）：

- Django REST Framework（用于 API 构建）
- pandas + openpyxl（用于导出 Excel）
- Chart.js（数据图表）

## 五、安全设计

- 所有卡密使用 SHA1 加密存储
- 卡密验证绑定设备 ID，限制设备数量
- 后台支持设备解绑，防止盗用
- 系统接口限频机制，防止暴力破解
- 管理员操作日志记录
- 敏感信息数据库加密处理

## 六、评分点覆盖与优化说明

| 考核功能点 | 实现方式                    |
| ----- | ----------------------- |
| 注册功能  | 管理员注册 + 审批机制            |
| 登录功能  | 管理员登录后台                 |
| 搜索功能  | 卡密列表、使用记录搜索             |
| 分页功能  | 管理列表、数据分页组件             |
| 数据库操作 | 支持完整 CRUD 操作            |
| 页面设计  | Bootstrap 美观响应式设计       |
| 功能完整性 | 功能齐全，逻辑清晰               |
| 代码质量  | 结构清晰，注释完善，文档齐全          |
| 创新性   | 引入角色审批机制、卡密安全绑定、图表统计等功能 |

